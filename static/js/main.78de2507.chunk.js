(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],{18:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var c=n(12),o=n.n(c),r=n(8),a=n(4),l=n(0),s=n.n(l),i=n(1),u=s.a.createContext({todos:[],setTodos:function(){return[]}}),d=function(e){var t=e.children,n=Object(l.useState)(JSON.parse(localStorage.getItem("todos")||"[]")),c=Object(a.a)(n,2),o=c[0],r=c[1],s=Object(l.useMemo)((function(){return{todos:o,setTodos:r}}),[o]);return Object(i.jsx)(u.Provider,{value:s,children:t})},j=(n(18),n(19),n(20),n(5)),b=n(6),f=n(23),m=n(2),O=n(10),p=n.n(O),h=function(e){var t=e.todo,n=Object(l.useContext)(u).setTodos,c=Object(l.useState)(!1),o=Object(a.a)(c,2),r=o[0],s=o[1],d=Object(l.useState)(t.title),f=Object(a.a)(d,2),m=f[0],O=f[1],h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";n((function(n){return Object(b.a)(n).map((function(n){return n.id!==t.id?n:e?Object(j.a)(Object(j.a)({},n),{},{title:e}):Object(j.a)(Object(j.a)({},n),{},{completed:!t.completed})}))}))},x=function(){n((function(e){return Object(b.a)(e).filter((function(e){return e.id!==t.id}))}))},g=function(e){switch((!m&&"Enter"===e||!m&&"Blur"===e)&&x(),e){case"Blur":case"Enter":h(m),s(!1);break;case"Escape":O(t.title),s(!1)}};return Object(i.jsxs)("li",{className:p()("todo-list__item",{completed:!0===t.completed},{editing:r}),children:[Object(i.jsxs)("div",{className:"view",children:[Object(i.jsx)("input",{type:"checkbox",className:"toggle",onChange:function(){return h()},checked:t.completed}),Object(i.jsx)("label",{onDoubleClick:function(){s(!0)},children:t.title}),Object(i.jsx)("button",{type:"button",className:"destroy","aria-label":"button-destroy",onClick:x})]}),r&&Object(i.jsx)("input",{type:"text",className:"edit",value:m,autoFocus:!0,onChange:function(e){return O(e.target.value.trimLeft())},onKeyDown:function(e){var t=e.key;return g(t)},onBlur:function(){return g("Blur")}})]})},x=function(e){var t=e.getVisibleTodos;return Object(i.jsx)("ul",{className:"todo-list",children:t().map((function(e){return Object(i.jsx)(h,{todo:e},e.id)}))})},g=["All","Active","Completed"],v=s.a.memo((function(){var e=Object(m.c)().pathname;return Object(i.jsx)("ul",{className:"filters",children:g.map((function(t){return Object(i.jsx)("li",{className:"filters__item",children:Object(i.jsx)(r.b,{to:"All"===t?"/":"/".concat(t.toLowerCase()),className:p()("filters__link",{"filters__link--active":e.toLowerCase().includes(t.toLowerCase())||!e.toLowerCase().includes("active")&&!e.toLowerCase().includes("completed")&&"all"===t.toLowerCase()}),children:t})},t)}))})})),N=function(){var e=Object(l.useContext)(u),t=e.todos,n=e.setTodos,c=Object(l.useState)(""),o=Object(a.a)(c,2),r=o[0],s=o[1],d=Object(m.c)().pathname;Object(l.useEffect)((function(){localStorage.setItem("todos",JSON.stringify(t))}),[t]);var O=t.every((function(e){return!0===e.completed})),p=t.filter((function(e){return!1===e.completed}));return Object(i.jsxs)("section",{className:"todoapp",children:[Object(i.jsxs)("header",{className:"header",children:[Object(i.jsx)("h1",{children:"To do list"}),Object(i.jsx)("form",{onSubmit:function(e){e.preventDefault(),function(){if(""!==r){var e={id:Object(f.a)(),title:r,completed:!1};n((function(t){return[].concat(Object(b.a)(t),[e])})),s("")}}()},children:Object(i.jsx)("input",{type:"text",className:"new-todo",placeholder:"What needs to be done?",value:r,onChange:function(e){return s(e.target.value.trimLeft())}})})]}),t.length>0&&Object(i.jsxs)("section",{className:"main",children:[Object(i.jsx)("input",{type:"checkbox",id:"toggleAll",className:"toggle-all",checked:O,onChange:function(){return e=!O,void n((function(t){return Object(b.a)(t).map((function(t){return Object(j.a)(Object(j.a)({},t),{},{completed:e})}))}));var e}}),Object(i.jsx)("label",{htmlFor:"toggleAll",children:"Mark all as complete"}),Object(i.jsx)(x,{getVisibleTodos:function(){switch(d){case"/active":return t.filter((function(e){return!e.completed}));case"/completed":return t.filter((function(e){return e.completed}));default:return t}}})]}),t.length>0&&Object(i.jsxs)("footer",{className:"footer",children:[Object(i.jsx)("span",{className:"todo-count",children:(0===p.length?"No items":1===p.length&&"".concat(p.length," item is left"))||p.length>1&&"".concat(p.length," items are left")}),Object(i.jsx)(v,{}),t.some((function(e){return!0===e.completed}))&&Object(i.jsx)("button",{type:"button",className:"clear-completed",onClick:function(){n((function(e){return Object(b.a)(e).filter((function(e){return!1===e.completed}))}))},children:"Clear completed"})]})]})},C=function(){return Object(i.jsx)(N,{})};o.a.render(Object(i.jsx)(r.a,{children:Object(i.jsx)(d,{children:Object(i.jsx)(C,{})})}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.78de2507.chunk.js.map